# Spotify Account Synchronizer

Синхронізує улюблені треки, альбоми, плейлисти та артистів між двома акаунтами Spotify.

## Що синхронізується

- ✅ Улюблені треки (Liked Songs)
- ✅ Збережені альбоми
- ✅ Підписки на артистів
- ✅ Всі плейлисти з усіма треками

## Що НЕ синхронізується

- ❌ Історія прослуховування
- ❌ Статистика (Top tracks, Top artists)
- ❌ Рекомендації

## Встановлення

### 1. Встановіть залежності

```bash
pip install spotipy
```

### 2. Створіть додаток у Spotify

1. Перейдіть на https://developer.spotify.com/dashboard
2. Натисніть "Create app"
3. Заповніть:
   - **App name**: будь-яка назва (наприклад, "My Sync Tool")
   - **App description**: будь-який опис
   - **Redirect URIs**: `http://127.0.0.1:8888/callback`
4. Збережіть **Client ID** та **Client Secret**

### 3. Налаштуйте конфігурацію

При першому запуску програма автоматично створить файл `config.json`. Відредагуйте його:

```json
{
    "CLIENT_ID": "ваш_client_id_з_spotify_dashboard",
    "CLIENT_SECRET": "ваш_client_secret_з_spotify_dashboard",
    "REDIRECT_URI": "http://127.0.0.1:8888/callback",
    "SOURCE_CACHE": ".cache-old-account",
    "TARGET_CACHE": ".cache-work-account"
}
```

Або скопіюйте `config.example.json` у `config.json` та заповніть своїми даними.

## Використання

Запустіть програму:

```bash
python spotify_sync.py
```

### Перший запуск (авторизація)

1. Програма покаже посилання для авторизації **старого акаунту**
2. Скопіюйте посилання та відкрийте у браузері
3. Увійдіть під старим акаунтом Spotify
4. Після авторизації скопіюйте URL з адресного рядка (він буде починатись з `http://127.0.0.1:8888/callback?code=...`)
5. Вставте URL назад у консоль
6. Повторіть кроки 1-5 для **робочого акаунту**

### Наступні запуски

Програма використовує збережені токени - авторизація не потрібна! Просто запускаєте і вона синхронізує все автоматично.

## Структура проекту

```
spotify-sync/
├── spotify_sync.py          # Основний код програми
├── config.json              # Ваша конфігурація (НЕ комітити в Git!)
├── config.example.json      # Приклад конфігурації
├── .gitignore              # Ігнорує секрети
├── README.md               # Ця документація
├── .cache-old-account      # Токени старого акаунту (створюється автоматично)
└── .cache-work-account     # Токени робочого акаунту (створюється автоматично)
```

## Безпека

⚠️ **ВАЖЛИВО**: Ніколи не комітьте в Git:
- `config.json` - містить ваші секрети
- `.cache-*` файли - містять токени доступу

Файл `.gitignore` вже налаштований для захисту цих файлів.

## Автоматична синхронізація

Якщо потрібна регулярна синхронізація, налаштуйте cron (Linux/Mac) або Task Scheduler (Windows):

### Linux/Mac (cron)

```bash
# Відкрийте crontab
crontab -e

# Додайте рядок (синхронізація кожні 6 годин)
0 */6 * * * cd /шлях/до/проекту && python spotify_sync.py
```

### Windows (Task Scheduler)

1. Відкрийте Task Scheduler
2. Створіть нову задачу
3. Вкажіть тригер (наприклад, кожні 6 годин)
4. Дія: запуск програми `python.exe` з аргументом `/шлях/до/spotify_sync.py`

## Troubleshooting

### "Redirect URI mismatch"
- Перевірте що у Spotify Dashboard додано **точно** `http://127.0.0.1:8888/callback`
- Перевірте що у `config.json` вказано той самий URI

### "Invalid client"
- Перевірте CLIENT_ID та CLIENT_SECRET у `config.json`
- Переконайтесь що немає зайвих пробілів

### Токени застаріли
Видаліть файли `.cache-*` та запустіть програму знову для повторної авторизації.

## Ліцензія

MIT